### OPEN PROGRAM ###
# Open rofi
super + r
 rofi -show combi

# Open web browser
super + q
 xdg-open http://

# Open VIM/IDE
super + {a, shift a}
 {$IDE_GUI, $TERMINAL -e vim}

# Open file browser(TUI/GUI)
super + {e, shift e}
 {$TERMINAL -e $FILE,\
 $FILE_GUI}

# Open text editor(TUI/GUI)
#super + {t, shift t}
# {$TERMINAL -e $EDITOR,\
# $EDITOR_GUI}

# Open pinger
super p
 $TERMINAL -e ping 1.1.1.1 -i 0.2
 
# Screen locker
{control + alt + l, XF86ScreenSaver}
 $LOCKSCREEN

# Keyboard layout
super + alt + space
 rofi-keyboard

# Open terminal
super + Return
 $TERMINAL

# Open list of sxhkd keybinds
super + alt + m
 rofi-sxhkd

# Open Screenshot tool
super + Print
 bash -c $SCREENSHOT

# Open custom script menu
super + z 
 rofi-select

# Restart keybind daemon
control alt k
 pkill -SIGUSR1 sxhkd

# Open communication apps
super w ; {w,l}
 firefox --new-window {https://web.whatsapp.com,\
 https://www.linkedin.com,\}

# Open other apps
super w ; {k,r,g,m,c}
 {keepassxc,\
 firefox --new-window https://www.reddit.com,\
 firefox --new-window https://github.com,\
 pgrep mpd >/dev/null && $TERMINAL -e ncmpcpp || (mpd && $TERMINAL -e ncmpcpp),\
 speedcrunch}

# Open Gmail
alt m ; {1,2,3}
 firefox --new-window https://mail.google.com/mail/u/{0,1,2}

# Brightness
{XF86MonBrightnessUp, XF86MonBrightnessDown}
 xbacklight -{inc,dec} 20 -time 150 ; \
 dunstify -r "71123" -a Brightness -u low -t 700 "Brightness $(xbacklight -get | cut -d. -f1)" 

####### Volume #####
XF86Audio{RaiseVolume,LowerVolume}
 pactl set-sink-volume 0 {+10%,-10%} ; \
 dunstify -r "85102" -a Volume -u low -t 500 "Vol: $(amixer get Master | sed -n 's/^.*\[\([0-9]\+\)%.*$/\1/p'| uniq) $(amixer get Master | tail -n 1 | grep -q off && echo Muted)"
XF86AudioMute
 pactl set-sink-mute @DEFAULT_SINK@ toggle ; \
 dunstify -r "85102" -a Volume -u low -t 500 "Vol: $(amixer get Master | sed -n 's/^.*\[\([0-9]\+\)%.*$/\1/p'| uniq) $(amixer get Master | tail -n 1 | grep -q off && echo Muted)"
 amixer get Master | tail -n 1 | grep off && echo yeeprer
# Scroll Volume
super {button4,button5}
 pactl set-sink-volume 0 {+4%,-4%} ; \
 dunstify -r "85102" -a Volume -u low -t 500 "Vol: $(amixer get Master | sed -n 's/^.*\[\([0-9]\+\)%.*$/\1/p'| uniq) $(amixer get Master | tail -n 1 | grep -q off && echo Muted)"

# Playback
XF86Audio{Next,Prev,Play,Stop}
 mpc {next,prev,toggle,stop}



######## BSPWM-Specific binds #########

# Rotate node layout CW
#super + r 
	#bspc node @/ -R 90

# Close WM
super + shift + Escape
 pkill lemonbar ; \
 bspc quit

# Close/Kill active window
super + {_,shift +}c
 bspc node -{c,k}

# Toggle Monocle mode
super + m
 bspc desktop -l next

# Switch/move to workspace
super + {_,shift + }{1-9,0}
 bspc {desktop -f,node -d} focused:^{1-9,10}
#bspc {desktop -f,node -d} '^{1-9,10}'

# Focus/move node in direction
super + {_,shift + }{h,j,k,l}
 bspc node -{f,s} {west,south,north,east}

# Resize tiled node
super + alt + {h,j,k,l}
 {bspc node -z right -10 0 ; bspc node -z left 10 0,\
 bspc node -z bottom 0 10 ; bspc node -z top 0 -10,\
 bspc node -z bottom 0 -10 ; bspc node -z top 0 10,\
 bspc node -z right 10 0 ; bspc node -z left -10 0}	

# Win+G : Move active window to biggest space
super + g
 bspc node -s biggest.local

# Win + {T,Shift + T,S} : Set window mode
super + {t,shift + t,s,f}
 bspc node -t {tiled,pseudo_tiled,floating,fullscreen}

# Set the node flags
super + ctrl + {x,y,z}
	bspc node -g {locked,sticky,private}

# Hide window
super + v
 bspc node -g hidden

# Unhide window
super + shift + v
 bspc node {,$(bspc query -N -n .hidden | tail -n1)} -g hidden=off

# Resize gaps
super alt g : {k,j}
 bspc config -d focused window_gap $((`bspc config -d focused window_gap` {-,+} 5 ))

# Make split ratios equal
super + equal
	bspc node @/ --equalize

# Ironically, this works implicitly and breaks otherwise
# Win + LeftClick : Move window
#super + button{1-2}
 #bspc pointer -g {move,resize_corner}

# Cycle between nodes
super + {_,shift +} Tab 
	bspc node -f {prev,next} .local

# Move a floating window
super + {Left,Down,Up,Right}
	bspc node -v {-20 0,0 20,0 -20,20 0}

# Resize a floating window
super + alt + {Left,Down,Up,Right}
	bspc node -z {right -20 0,bottom 0 20,bottom 0 -20,right 20 0}

# Flip node children orientation
super + alt + r
 bspc node @parent -R 90

# Flip current desktop with the last one
super + alt + s
 bspc desktop -s last